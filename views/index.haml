!!!
%html
  %head
    %title KARAOKE TIME
    :css
      body  { background-color:#eeeeee; font-family:arial,sans-serif; width:80%; margin-left:auto; margin-right:auto; }
      .header_box  { background-color:#007777; text-align:center; font-size:24px; font-weight:bold; padding:0.25em;
                     white-space:nowrap; border-color:#111111; border-style:solid; border-width:1px; }
      .left_navigation           { height:100%; float:left; width:150px; background-color:#007777; text-align:center;
                                   white-space:nowrap; border-color:#111111; border-style:solid; border-width:1px; }
      .left_navigation a         { font-size:80%; color:#ffffff; font-weight:bold; display:block; padding:0.5em; margin:0.2em;
                                   border-color:#005555; border-style:solid; border-width:2px; background-color:#009999; }
      .left_navigation a:hover   { color:#ff8800; background-color:#333333; }
      .left_navigation a:active  { color:#aaaaaa; }
      .right_content  { clear:right; background-color:#dddddd; text-align:left; margin-left:152px; font-size:0.8em;
                        padding:1em; color:#111111; border-color:#111111; border-style:solid; border-width:1px; }
      .footer      { text-align:center; }
      .footer img  { border:0em; }

    %link{rel: "stylesheet", type: "text/css", href: "css/chosen.css"}

    %script{:src => "js/jquery-1.11.2.min.js"}
    %script{:src => "js/chosen.jquery.js"}

    %script{:src => "js/cdgmagic_cdgplayer.js"}
    %script{:src => "js/cdgmagic_cdgdecoder_lowresource.js"}
    
    :javascript
      function init()
      {
          CDG_Player_init( "cdg_audio", "cdg_canvas", "cdg_border", "cdg_status" );
          toggle_2x_mode();
          $("#chosen-select").chosen({no_results_text: "Oops, nothing found!"}).change(function() {set_file_prefix(this.value);});
      };
      
      var zoom_mode = 0;
      function toggle_2x_mode()
      {
          zoom_mode = (~zoom_mode) & 0x01;
          var brdr = document.getElementById("cdg_border");
          var cnvs = document.getElementById("cdg_canvas");
          var audi = document.getElementById("cdg_audio");
          brdr.style.width  = (zoom_mode) ? 648 + "px" : 324 + "px";
          cnvs.style.width  = (zoom_mode) ? 576 + "px" : 288 + "px";
          brdr.style.height = (zoom_mode) ? 432 + "px" : 216 + "px";
          cnvs.style.height = (zoom_mode) ? 384 + "px" : 192 + "px";
          cnvs.style.padding= (zoom_mode) ?  24 + "px" :  12 + "px";
          audi.style.width  = (zoom_mode) ? 648 + "px" : 324 + "px";
      };
  
  %body{:onload => "init()"}
    %audio#cdg_audio{:style => "width:324px"}
      To use the JavaScript Subcode Graphics Player,
      %br>/
      you must use an HTML5 audio/canvas compatible browser. [audio]

    / #cdg_border{:ondblclick => "toggle_2x_mode();", :style => "width:324px; height:216px; background-color:#000000;"}
    #cdg_border{:style => "width:324px; height:216px; background-color:#000000;"}
      %canvas#cdg_canvas{:height => "192", :style => "padding:12px", :width => "288"}
        / style="image-rendering: optimizeSpeed"
        To use the JavaScript Subcode Graphics Player,
        %br>/
        you must use an HTML5 audio/canvas compatible browser. [canvas]

    #cdg_status{:style => "width:320px; padding:2px; margin:4px; text-align:left; font-family:arial; font-size:1.0em/*0.8em*/; color:#00dddd; background-color:#444444"}
      Please select a file to play...

    / %select{:onchange => "set_file_prefix(this.value)", :size => "1", :style => "width:324px; margin:0px; color:#00dddd; background-color:#444444"; }
    %select#chosen-select{"data-placeholder" => "Choose a song..."}
      - @song_names.each do |song_name|
        %option{:value => "k/#{song_name}:k/#{song_name}"}= song_name
